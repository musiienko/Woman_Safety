CREATE USER IF NOT EXISTS 'safety'@'localhost' IDENTIFIED BY '457417';

create database if not exists WomanSafety;

GRANT ALL ON WomanSafety.* TO 'safety'@'localhost';
FLUSH PRIVILEGES;

CREATE TABLE IF NOT EXISTS WomanSafety.surveys (
    id_survey INT NOT NULL AUTO_INCREMENT,
    survey NVARCHAR(200) NOT NULL,
    description TEXT NOT NULL,
    PRIMARY KEY (id_survey)
);

insert into WomanSafety.surveys (survey , description)
values('–û–ø–∏—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–∏–∑–∏–∫—É –Ω–∞—Å–∏–ª—å—Å—Ç–≤–∞', '–®–∞–Ω–æ–≤–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á, –∑–∞—Ä–∞–∑ –í–∏ –º–∞—î—Ç–µ –∑–º–æ–≥—É –ø—Ä–æ–π—Ç–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–∏–∑–∏–∫—É —Å—Ç–∞—Ç–∏ –∂–µ—Ä—Ç–≤–æ—é –Ω–∞—Å–∏–ª–ª—è.
–Ø–∫—â–æ –í–∏ –≤–∂–µ –±—É–ª–∏ –∂–µ—Ä—Ç–≤–æ—é –Ω–∞—Å–∏–ª–ª—è –∞–±–æ –≤–≤–∞–∂–∞—î—Ç–µ, —â–æ –º–æ–∂–µ—Ç–µ –Ω–µ—é —Å—Ç–∞—Ç–∏, —Ç–æ –ø—Ä–æ–π–¥—ñ—Ç—å –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è, —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è —É —è–∫—ñ–π –≥—Ä—É–ø—ñ —Ä–∏–∑–∏–∫—É –í–∏ –∑–∞—Ä–∞–∑ –ø–µ—Ä–µ–±—É–≤–∞—î—Ç–µ.');

CREATE TABLE IF NOT EXISTS WomanSafety.questions (
    id_question INT NOT NULL AUTO_INCREMENT,
    question NVARCHAR(200) NOT NULL,
    id_survey INT NOT NULL,
    points INT NOT NULL,
    PRIMARY KEY (id_question),
    FOREIGN KEY (id_survey)
        REFERENCES WomanSafety.surveys (id_survey)
);

insert into WomanSafety.questions (question, id_survey, points)
values 
('–ß–∏ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ –≤–∏ —Å–µ–±–µ —É –Ω–µ–±–µ–∑–ø–µ—Ü—ñ –ø–æ—Ä—è–¥ –∑ –í–∞—à–∏–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º?', 1, 1),
('–ß–∏ –º–∞—î –≤—ñ–Ω –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç—å –¥–æ –∞–ª–∫–æ–≥–æ–ª—é\–Ω–∞—Ä–∫–æ—Ç–∏–∫—ñ–≤?', 1, 1), 
('–ß–∏ –ø—Ä–æ—è–≤–ª—è—î –≤—ñ–Ω –Ω–∞–¥–º—ñ—Ä–Ω—ñ —Ä–µ–≤–Ω–æ—â—ñ?', 1, 1), 
('–ß–∏ —á–∞—Å—Ç–æ –í–∞—à –ø–∞—Ä—Ç–Ω–µ—Ä –ø—ñ–¥–≤–∏—â—É—î –≥–æ–ª–æ—Å –Ω–∞ –≤–∞—Å –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –Ω–µ—Ü–µ–Ω–∑—É—Ä–Ω—ñ —Å–ª–æ–≤–∞ —É –≤–∞—à—É –∞–¥—Ä–µ—Å—É?', 1, 1), 
('–ß–∏ –æ–±–º–µ–∂—É—î –≤—ñ–Ω –≤–∞—à–µ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑ –¥—Ä—É–∑—è–º–∏ –∞–±–æ —Ä–æ–¥–∏—á–∞–º–∏?', 1, 1),
('–ß–∏ –±—É–≤–∞—é—Ç—å —É –≤–∞—à–æ–≥–æ –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –ø—Ä–∏—Å—Ç—É–ø–∏ –∞–≥—Ä–µ—Å—ñ—ó?', 1, 1),
('–ß–∏ —Å–∫–æ—é–≤–∞–≤ –≤—ñ–Ω —Ä–∞–Ω—ñ—à–µ —Å–µ—Ä–π–æ–∑–Ω–µ –Ω–∞—Å–∏–ª—å—Å—Ç–≤–æ?', 1, 1),
('–ß–∏ –º–∞—î –≤—ñ–Ω –¥–æ—Å—Ç—É–ø –¥–æ –∑–±—Ä–æ—ó?', 1, 1),
('–ß–∏ –∑—Ä–∏–≤–∞–≤ –≤—ñ–Ω –∑–ª—ñ—Å—Ç—å –Ω–∞ –¥–æ–º–∞—à–Ω—ñ—Ö —Ç–≤–∞—Ä–∏–Ω–∞—Ö?', 1,1),
('–ß–∏ –ø–æ–≥—Ä–æ–∂—É—î –≤—ñ–Ω —Å–∞–º–æ–≥—É–±—Å—Ç–≤–æ–º?', 1, 1),
('–ß–∏ –ø–æ–≥—Ä–æ–∂—É—î –≤—ñ–Ω –≤–±–∏–≤—Å—Ç–≤–æ–º?', 1, 1),
('–ß–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞–≤ –≤—ñ–Ω —Ñ—ñ–∑–∏—á–Ω—É —Å–∏–ª—É –¥–æ –≤–∞—Å?',1, 1);



CREATE TABLE IF NOT EXISTS WomanSafety.user_score (
    id_score INT AUTO_INCREMENT NOT NULL,
    user_phone VARCHAR(20) NOT NULL,
    score INT NOT NULL,
    id_survey INT NOT NULL,
    PRIMARY KEY (id_score),
    FOREIGN KEY (id_survey)
        REFERENCES WomanSafety.surveys (id_survey)
);

CREATE TABLE IF NOT EXISTS WomanSafety.instructions (
    id_instruction INT AUTO_INCREMENT NOT NULL,
    title NVARCHAR(100) NOT NULL,
    instruction TEXT NOT NULL,
    range_start INT NOT NULL,
    range_end INT NOT NULL,
    id_survey INT NOT NULL,
    PRIMARY KEY (id_instruction),
    FOREIGN KEY (id_survey)
        REFERENCES WomanSafety.surveys (id_survey)
);

insert into WomanSafety.instructions (title, instruction, range_start, range_end, id_survey) 
values
('–í—Å–µ –≤ –Ω–æ—Ä–º—ñ ‚ò∫Ô∏è', '–í–∞–º –Ω–µ–º–∞—î –∑–∞ —â–æ —Ö–≤–∏–ª—é–≤–∞—Ç–∏—Å—å. –ù–µ –∑–∞–±—É–≤–∞–π—Ç–µ –ø—Ä–æ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è –∑—ñ —Å–≤–æ—ó–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º —Ç–∞ –Ω–µ —Ç—Ä–∏–º–∞–π—Ç–µ —É —Å–æ–±—ñ, —è–∫—â–æ –±–∞—á–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º–∏ —É –≤–∞—à–∏—Ö —Å—Ç–æ—Å—É–Ω–∫–∞—Ö', 1, 3, 1),
('–í–∞–º –≤–∞—Ä—Ç–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–∏ –∑—ñ —Å–≤–æ—ó–º –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º', '–Ø–∫—â–æ —â–æ—Å—å –π–¥–µ –Ω–µ —Ç–∞–∫, —è–∫ —Ö–æ—Ç—ñ–ª–æ—Å—è –±, –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–∏ —ñ –ø–æ—à—É–∫–∞—Ç–∏ –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏. –ü–∞–º‚Äô—è—Ç–∞–π—Ç–µ, —Ä–æ–∑–º–æ–≤–∞ —ñ –ø–æ—à—É–∫–∏ —Ä—ñ—à–µ–Ω–Ω—è –ø–æ–≤–∏–Ω–Ω—ñ –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏ –≤ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥–æ–±—Ä–æ–∑–∏—á–ª–∏–≤–æ–º—É —Ç–æ–Ω—ñ, –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –¥—É–º–∫–∏ –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω.', 4, 6, 1),
('–í–∏ –º–æ–∂–µ—Ç–µ –±—É—Ç–∏ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω–æ—é –∂–µ—Ä—Ç–≤–æ—é –Ω–∞—Å–∏–ª—å—Å—Ç–≤–∞', '–©–æ–¥–µ–Ω–Ω–æ –≤ –£–∫—Ä–∞—ó–Ω—ñ —Ñ—ñ–∫—Å—É—é—Ç—å —á–∏—Å–ª–µ–Ω–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–ø–∞–¥–∫—ñ–≤ –Ω–∞—Å–∏–ª—å—Å—Ç–≤–∞ –≤ —Å—ñ–º‚Äô—ó, –∞ –±–ª–∏–∑—å–∫–æ –ø–æ–ª–æ–≤–∏–Ω–∏ –∂—ñ–Ω–æ–∫ —Å—Ç—Ä–∞–∂–¥–∞—é—Ç—å –≤—ñ–¥ –¥–æ–º–∞—à–Ω—å–æ–≥–æ –Ω–∞—Å–∏–ª—å—Å—Ç–≤–∞ –Ω–∞ –ø–æ—Å—Ç—ñ–π–Ω—ñ–π –æ—Å–Ω–æ–≤—ñ. –ù–µ –∑–≤–æ–ª—ñ–∫–∞–π—Ç–µ, —è–∫—â–æ –≤–≤–∞–∂–∞—î—Ç–µ —â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞ - –Ω–∞—Ç–∏—Å–Ω—ñ—Å—Ç—å SOSüÜò —ñ –º–∏ –æ–±–æ–≤—è–∫–æ–≤–æ –¥–æ–ø–æ–º–æ–∂–µ–º–æ –≤–∞–º', 7, 9, 1),
('–í–∏ –≤ –Ω–µ–±–µ–∑–ø–µ—Ü—ñ! üÜò', '–ü–∞–º‚Äô—è—Ç–∞–π—Ç–µ, —â–æ —Å–ø—Ä–∏—á–∏–Ω–µ–Ω–Ω—è –±—É–¥—å-—è–∫–æ–≥–æ –≤–∏–¥—É —Ç—ñ–ª–µ—Å–Ω–∏—Ö —É—à–∫–æ–¥–∂–µ–Ω—å, –∞ —Ç–∞–∫–æ–∂ –≤—á–∏–Ω–µ–Ω–Ω—è –±—É–¥—å-—è–∫–∏—Ö —ñ–Ω—à–∏—Ö –¥—ñ–π –ø—Ä–æ—Ç–∏ –∂–∏—Ç—Ç—è —Ç–∞ –∑–¥–æ—Ä–æ–≤‚Äô—è, —î –∑–ª–æ—á–∏–Ω–∞–º–∏. –ü–µ—Ä–µ–±—É–≤–∞–Ω–Ω—è –∑ –∫—Ä–∏–≤–¥–Ω–∏–∫–æ–º –≤ —Å—ñ–º–µ–π–Ω–∏—Ö –≤—ñ–¥–Ω–æ—Å–∏–Ω–∞—Ö –Ω–µ –≤–∏–∫–ª—é—á–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –ø—Ä–∏—Ç—è–≥–Ω–µ–Ω–Ω—è –π–æ–≥–æ –¥–æ –∫—Ä–∏–º—ñ–Ω–∞–ª—å–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ. –Ø–∫—â–æ –≤–∞–º –±—É–¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞, –Ω–µ –≤–∞–≥–∞–π—Ç–µ—Å—å —Ç–∞ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å SOSüÜò!', 10, 12, 1)


/*create table WomanSafety.answers(
id_answer int auto_increment not null,
answer varchar(100) not null,
primary key (idAnswer));*/

/*create table WomanSafety.points(
id_p int auto_increment not null,
idQuestion int not null,
idAnswer int not null,
point int not null,
primary key (id_p),
foreign key (idQuestion) references WomanSafety.questions(id_q),
foreign key (idAnswer) references WomanSafety.answers(id_asw));*/

/*create table WomanSafety.locations(
place nvarchar(200) not null,
coordinates point not null,
primary key (place));

create table WomanSafety.phones (
owner nvarchar(200) not null,
phone varchar(20) not null,
primary key(owner)
);*/





